<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?key=AIzaSyC0KIgBiozX-3YWjI729nE7GPFYaRZ9Tao&sensor=false">
</script>

<script type="text/javascript">
  function draw_map() {
    var pinColor = "FE7569";

    var pinImage = new google.maps.MarkerImage("http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|" + pinColor,
      new google.maps.Size(21, 34),
      new google.maps.Point(0,0),
      new google.maps.Point(10, 34));

    var pinShadow = new google.maps.MarkerImage("http://chart.apis.google.com/chart?chst=d_map_pin_shadow",
      new google.maps.Size(40, 37),
      new google.maps.Point(0, 0),
      new google.maps.Point(12, 35));

    var myOptions = {
      center: new google.maps.LatLng('<%= @image.gps_latitude.gsub(/\s+.*/,'') %>', '<%= @image.gps_longitude.gsub(/\s+.*/,'') %>'),
      zoom: 14,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };

    var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);

    var marker = new google.maps.Marker({
      map: map,
      position: new google.maps.LatLng('<%= @image.gps_latitude.gsub(/\s+.*/,'') %>', '<%= @image.gps_longitude.gsub(/\s+.*/,'') %>'),
      icon: pinImage,
      shadow: pinShadow
    });
  }
</script>
